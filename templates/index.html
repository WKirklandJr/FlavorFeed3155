{% extends '_layout.html' %}

{% block title %}FlavorFeed | Home{% endblock %}

{% block body %}
<div class="d-flex flex-row">
    <!-- Sidebar -->
    <nav id="sidebarMenu" class=" d-lg-block sidebar  ">

        <div class="list-group list-group-flush mx-3 mt-3">

            {% if username is none %}


            {% else %}
            <h3><a class="purelink text-light text-uppercase"  href="/users/{{user_id['user_id']}}"> {{username['username']}}</a></h3>

            <hr class="m-0 ml-5 pl-4 mb-2" style="width: 45%; border-width: 2px; border-color: #ffc107;">
            {% endif %}
            <a href="#" class="purelink pl-4 mb-1 mt-3 text-secondary">
                <h5>YOUR POSTS</h5>
            </a>

            <a href="#" class="purelink pl-4 mb-1 text-secondary">
                <h5>SAVED RECIPES</h5>
            </a>

            <a href="#" class=" purelink pl-4 mb-1 text-secondary">
                <h5>FOLLOWING</h5>
            </a>

            <a href="#" class=" purelink pl-4 mb-1 text-secondary">
                <h5>CONTACT US</h5>
            </a>
        </div>

        <div class="d-flex small justify-content-center text-secondary" style="margin-top: 85%;"> FlavorFeed Â© 2023</div>

    </nav>
    <!-- Sidebar -->


    <div class="container home-post-feed p-3" style="width: 100%;">

        <!-- POST TEMPLATE, Iterates through all posts-->

        
        {% for recipe in recipes|reverse %}
        <div class="post ">
            <div class="p-2 text-secondary">{{recipe.date_posted.strftime('%b %d @ %I:%M %p')}} </div>
            <div class="card postcard">
                <!--POST IMAGE-->

                <div class="card postcard-image flex-row bg-red">

                    <img style="width:100%" src="../static/post-images/{{recipe.recipe_image}}" alt="">
                </div>


                <div class="d-flex px-3 pt-2 flex-row justify-content-between">
                    <div class="d-flex flex row">
                        <!--RECIPE NAME-->
                        <div class="h2 m-0 pl-2 "><a class="text-light purelink" href="/recipes/{{recipe.recipe_id}}">{{recipe.title|truncate(23,true, '...')}}

                            </a></div>

                        <!--BOOKMARK-->
                        <div class=" p-2">
                            <button class="btn p-0 lg">
                                <span class="material-symbols-outlined text-red">bookmark</span>
                            </button> <span class="text-red"># <!-- TODO: POST BOOKMARK VALUE--></span>
                        </div>

                    </div>

                    <!--DURATION TIME-->
                    <div class="d-flex flex row p-2"> <span class="material-symbols-outlined text-warning px-2">
                            nest_clock_farsight_analog
                        </span>
                        <div>{{recipe.duration}} mins </div>
                    </div>
                </div>

                
                <div class="d-flex px-4">
                    <div class="rounded-circle bg-light mr-2 post-user-ava"><img class=" " src="" alt=""></div> by <a
                        class="text-warning pl-1" href="#">{user} </a>
                </div>

                <div class="d-flex mt-auto p-3 justify-content-between">
                    
                    <div>{% for tag in recipe.tags%}
                        <a href="{{ url_for('search_tag', tagname=tag.tagname)}}" class="badge badge-warning">{{tag.tagname}}</a>
                        {% endfor %}
                    </div>

                    <div><a href="#" class="text-secondary"><span
                                class="material-symbols-outlined">chat_bubble</span></a>
                        <a href="#" class="text-secondary"><span class="material-symbols-outlined">
                                more_horiz
                            </span></a>
                    </div>
                </div>
            </div>

        </div>

        {% endfor %}

    </div>


</div>
{% endblock %}